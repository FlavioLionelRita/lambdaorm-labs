CREATE TABLE Groups (id VARCHAR(32) NOT NULL ,name VARCHAR(32) NOT NULL ,created TIMESTAMP  ,CONSTRAINT Groups_PK PRIMARY KEY (id));
ALTER TABLE Groups ADD CONSTRAINT Groups_UK UNIQUE (name);
CREATE TABLE GroupUsers (id VARCHAR(64) NOT NULL ,username VARCHAR(32) NOT NULL ,groupId VARCHAR(32) NOT NULL ,role VARCHAR(32)  ,CONSTRAINT GroupUsers_PK PRIMARY KEY (id));
ALTER TABLE GroupUsers ADD CONSTRAINT GroupUsers_UK UNIQUE (groupId,username);
CREATE TABLE Devices (id VARCHAR(32) NOT NULL ,type VARCHAR(16)  ,name VARCHAR(32) NOT NULL ,ownerId VARCHAR(32)  ,so VARCHAR(32)  ,imei VARCHAR(16)  ,imei2 VARCHAR(16)  ,mac VARCHAR(24)  ,macBluetooth VARCHAR(24)  ,ip VARCHAR(24)  ,apiKey VARCHAR(255)  ,brand VARCHAR(32)  ,model VARCHAR(32)  ,serialNumber VARCHAR(32)  ,created TIMESTAMP  ,CONSTRAINT Devices_PK PRIMARY KEY (id));
ALTER TABLE Devices ADD CONSTRAINT Devices_UK UNIQUE (name);
CREATE TABLE Components (id VARCHAR(50) NOT NULL ,deviceId VARCHAR(32) NOT NULL ,name VARCHAR(16) NOT NULL ,type VARCHAR(16)  ,brand VARCHAR(32)  ,model VARCHAR(32)  ,serialNumber VARCHAR(32)  ,created TIMESTAMP  ,CONSTRAINT Components_PK PRIMARY KEY (id));
ALTER TABLE Components ADD CONSTRAINT Components_UK UNIQUE (deviceId,name);
CREATE TABLE DeviceStatuses (id INTEGER NOT NULL ,deviceId VARCHAR(32)  ,time TIMESTAMP  ,created TIMESTAMP  ,CONSTRAINT DeviceStatuses_PK PRIMARY KEY (id));
CREATE TABLE DevicePositionStatuses (id INTEGER NOT NULL ,latitude DECIMAL(10,4)  ,longitude DECIMAL(10,4)  ,altitude DECIMAL(10,4)  ,CONSTRAINT DevicePositionStatuses_PK PRIMARY KEY (id));
CREATE TABLE DevicePerformanceStatuses (id INTEGER NOT NULL ,cpu DECIMAL(10,4)  ,gpu DECIMAL(10,4)  ,memory DECIMAL(10,4)  ,wifiSignal DECIMAL(10,4)  ,batery DECIMAL(10,4)  ,temperature DECIMAL(10,4)  ,CONSTRAINT DevicePerformanceStatuses_PK PRIMARY KEY (id));
CREATE TABLE Files (id VARCHAR(255) NOT NULL ,type VARCHAR(16)  ,deviceId VARCHAR(32)  ,componentId VARCHAR(50)  ,startDate TIMESTAMP  ,endDate TIMESTAMP  ,created TIMESTAMP  ,CONSTRAINT Files_PK PRIMARY KEY (id));
ALTER TABLE GroupUsers ADD CONSTRAINT GroupUsers_group_FK FOREIGN KEY (groupId) REFERENCES Groups (id);
ALTER TABLE Components ADD CONSTRAINT Components_device_FK FOREIGN KEY (deviceId) REFERENCES Devices (id);
CREATE INDEX DeviceStatuses_time ON DeviceStatuses (time);
ALTER TABLE DeviceStatuses ADD CONSTRAINT DeviceStatuses_device_FK FOREIGN KEY (deviceId) REFERENCES Devices (id);
ALTER TABLE DevicePositionStatuses ADD CONSTRAINT DevicePositionStatuses_status_FK FOREIGN KEY (id) REFERENCES DevicePerformanceStatuses (id);
ALTER TABLE DevicePerformanceStatuses ADD CONSTRAINT DevicePerformanceStatuses_status_FK FOREIGN KEY (id) REFERENCES DevicePerformanceStatuses (id);
ALTER TABLE Files ADD CONSTRAINT Files_device_FK FOREIGN KEY (deviceId) REFERENCES Devices (id);
ALTER TABLE Files ADD CONSTRAINT Files_component_FK FOREIGN KEY (componentId) REFERENCES Components (id);